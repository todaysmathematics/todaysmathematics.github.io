define(["../core","../core/toType","./var/rtagName","./var/rscriptType","./wrapMap","./getAll","./setGlobalEval"],function(e,t,r,n,o,a,i){function l(l,c,f,p,d){for(var h,u,m,C,g,v,y=c.createDocumentFragment(),T=[],w=0,x=l.length;w<x;w++)if((h=l[w])||0===h)if("object"===t(h))e.merge(T,h.nodeType?[h]:h);else if(s.test(h)){for(u=u||y.appendChild(c.createElement("div")),m=(r.exec(h)||["",""])[1].toLowerCase(),C=o[m]||o._default,u.innerHTML=C[1]+e.htmlPrefilter(h)+C[2],v=C[0];v--;)u=u.lastChild;e.merge(T,u.childNodes),u=y.firstChild,u.textContent=""}else T.push(c.createTextNode(h));for(y.textContent="",w=0;h=T[w++];)if(p&&e.inArray(h,p)>-1)d&&d.push(h);else if(g=e.contains(h.ownerDocument,h),u=a(y.appendChild(h),"script"),g&&i(u),f)for(v=0;h=u[v++];)n.test(h.type||"")&&f.push(h);return y}var s=/<|&#?\w+;/;return l});